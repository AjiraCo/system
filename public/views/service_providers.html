<div class='container component' ng-init='vm.init()'>
    <h2>
        Service Providers
    </h2>
	<div ng-if="!vm.edit_mode">
		<p>
			<button type='button' ng-click='vm.newMode = 1' class='btn btn-primary'>
				Add Service Provider
			</button>
		</p>
		<p>
        <div pretty-error errors="vm.err.data">
        </div>
		</p>
		<p>
		<form  ng-show="vm.newMode" class="form-inline row" role="form">
			<div class="form-group col-md-3">
				<label for="">
					Name
				</label>
				<input type="text" class="form-control" ng-model="vm.service_provider.name"/>
			</div>
			<div class="form-group col-md-3">
				<label for="">
					Code
				</label>
				<input type="text" class="form-control" ng-model="vm.service_provider.code"/>
			</div>
			<div class="form-group col-md-3">
				<label for="">
					ID
				</label>
				<input type="text" class="form-control" ng-model="vm.service_provider.id"/>
			</div>
			<button ng-click="vm.saveNew()" class="btn btn-primary">
				Save
			</button>
        <button ng-click="vm.newMode=false;vm.err={}"  class="btn btn-default">
				Close
			</button>
		</form>

		</p>
		<table class="table table-bordered">
			<thead>
				<tr>
					<th>
						# No
					</th>
					<th>
						Name
					</th>
					<th>
						Code
					</th>
					<th>
						ID
					</th>
					<th>

					</th>
			</thead>
			<tbody>
				<tr ng-repeat='service_provider in vm.serviceProviders track by $index'>
					<td>
						<a ng-click='vm.edit(vm.serviceProviders[$index])' href=''>{{$index + 1}}</a>
					</td>
					<td>
						{{vm.serviceProviders[$index].name}}
					</td>
					<td>
						{{vm.serviceProviders[$index].code}}
					</td>
					<td>
						{{vm.serviceProviders[$index].id}}
					</td>
					<td>
						<i class="glyphicon glyphicon-trash" ng-click="vm.removeServiceProvider(vm.serviceProviders[$index])"></i>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div ng-if="vm.edit_mode">
		<div class='row'>
			<div class='col-md-3'>
				<label>Name</label>
			</div>
			<div class='col-md-3'>
				<input type='text' ng-model='vm.current_entity.name' class='form-control' />
			</div>
		</div>
		<div class='row'>
			<div class='col-md-3'>
				<label>Code</label>
			</div>
			<div class='col-md-3'>
				<input type='text' ng-model='vm.current_entity.code' class='form-control' />
			</div>
		</div>
		<div class='row'>
			<div class='col-md-3'>
				<label>Id</label>
			</div>
			<div class='col-md-3'>
				<input type='text' ng-model='vm.current_entity.id' class='form-control' />
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn" ng-click='vm.cancel()'>Cancel</button>
			<button type='submit' class="btn btn-primary" ng-click='vm.save()'>Save changes</button>
		</div>
	</div>
</div>
